"use strict";(self.webpackChunknomiswap_frontend=self.webpackChunknomiswap_frontend||[]).push([[627],{999:function(e,n,t){t.d(n,{Z:function(){return Wn}});var r,i=t(1413),a=t(47313),s=t(58704),o=t.n(s),l=t(82229),d=t(30913),c=t(35105),u=t(44383),p=t(22411),x=t(74531),m=t(70885),f=t(70244),h=t(56952),g=t(40756),y=[{id:0,name:"badges",sortable:!1,label:""},{id:1,name:"farm",sortable:!1,label:""},{id:2,name:"earned",sortable:!0,label:"Earned"},{id:3,name:"apr",sortable:!0,label:"APR"},{id:4,name:"apy",sortable:!0,label:"APY"},{id:5,name:"liquidity",sortable:!0,label:"Liquidity"},{id:6,name:"details",sortable:!1,label:""}],b=t(62105),v=function(e,n){var t=(0,a.useState)(!1),r=(0,m.Z)(t,2),i=r[0],s=r[1];return(0,a.useEffect)((function(){var t;return e&&!i?s(!0):!e&&i&&(t=setTimeout((function(){return s(!1)}),n)),function(){return clearTimeout(t)}}),[e,n,i]),i},j=t(41938),k=t(85400),w=t(82114),S=t(79560),T=t(59178),Z=t(46417),C=function(e){var n=e.value,t=(0,k.$G)().t,r=(0,h.SLI)().isTablet,i=(0,a.useMemo)((function(){return(0,S.Ch)(100*n)}),[n]);return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)(h.kCb,{alignItems:"center",flexGap:"2px",children:[(0,Z.jsx)(T.a,{children:t("APY")}),(0,Z.jsx)(w.Rb,{content:t("APY is based on your one-year income if reinvestment is made once a day. Provided APY calculations depend on current APR rates."),placement:r?"right":"top",hoist:!0,children:(0,Z.jsx)(h.byK,{height:"12px",color:"textSubtle"})})]}),(0,Z.jsx)(h.VRh,{loading:!n&&0!==n,fontSize:"14px",bold:!0,children:i})]})},N=t(64446),I=t(51783),A=f.ZP.div.withConfig({displayName:"Farm__Container",componentId:"sc-1s31srg-0"})(["align-items:center;display:flex;"]),D=function(e){var n=e.token,t=e.quoteToken,r=e.label,i=e.pid,a=e.finished,s=(0,x.f6)(i).version,o=(0,x.Dx)(i).stakedBalance,l=(0,k.$G)().t,d=(0,N.mW)(o);return(0,Z.jsxs)(A,{children:[(0,Z.jsx)(h.qAc,{variant:"row",primarySymbol:n.symbol,secondarySymbol:t.symbol,size:24,mr:"8px"}),(0,Z.jsxs)(h.kCb,{flexDirection:"column",children:[d>0&&!a&&(0,Z.jsx)(h.xvT,{color:"primary",fontSize:"11px",bold:!0,textTransform:"uppercase",children:l("Farming")}),(0,Z.jsxs)(h.kCb,{flexGap:"4px",flexWrap:"nowrap",children:[(0,Z.jsx)(h.xvT,{fontSize:"14px",bold:!0,noTranslate:!0,children:r}),s===b.Gi.V2&&(0,Z.jsx)(I.aS,{})]})]})]})},P=function(e){var n=e.earnings,t=e.earningToken,r=e.userDataReady,i=(0,k.$G)().t,s=(0,a.useCallback)((function(){return(0,S.uf)((0,N.mW)(n,t.decimals))}),[n,t]);return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(T.a,{children:i("Earned")}),(0,Z.jsxs)(h.VRh,{loading:!r,fontSize:"14px",bold:!0,noTranslate:!0,children:[s()," ",t.symbol]})]})},q=f.ZP.div.withConfig({displayName:"Details__Container",componentId:"sc-1gv8wn6-0"})(["button{padding:0;}"]),_=function(e){var n=e.actionPanelToggled,t=(0,k.$G)().t;return(0,Z.jsx)(q,{children:(0,Z.jsx)(h.LrQ,{expanded:n,children:t("Details")})})},B=function(e){var n,t=e.liquidity,r=(0,k.$G)().t,i=(0,h.SLI)().isTablet;return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)(h.kCb,{alignItems:"center",flexGap:"2px",children:[(0,Z.jsx)(T.a,{children:r("Liquidity")}),(0,Z.jsx)(w.Rb,{content:r("Total value of the funds in this farm\u2019s liquidity pool"),placement:i?"right":"top",hoist:!0,children:(0,Z.jsx)(h.byK,{height:"12px",color:"textSubtle"})})]}),(0,Z.jsx)(h.VRh,{loading:!t,fontSize:"14px",bold:!0,noTranslate:!0,children:(0,S.uf)(null!==(n=null===t||void 0===t?void 0:t.toNumber())&&void 0!==n?n:0,"toIntUSD")})]})},R=t(19439),F=t(13906),E=t(74165),L=t(15861),z=t(1991),G=t(22696),V=t(79760),M=t(48709),O=t(45598),H=t(56396),W=t(24039),U=t(63186),Y=t(14953),$=t(57254),K=t(20388),Q=t(6321),X=t(23967),J=t(95e3),ee=V.ke.nmx,ne=function(e){var n=(0,J.d)().callWithGasPrice,t=(0,c.Kn)(e.lpAddresses),r=(0,c.Kn)(e.contractAddresses),i=(0,X.X_)(t);return{onApprove:(0,a.useCallback)((0,L.Z)((0,E.Z)().mark((function e(){var t,a;return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(i,"approve",[r,Q.Bz]);case 2:return t=e.sent,e.next=5,t.wait();case 5:return a=e.sent,e.abrupt("return",a.status);case 7:case"end":return e.stop()}}),e)}))),[i,n,r])}},te=t(63587),re=t(89028),ie=t(45987),ae=t(1405),se=["balance","symbol"],oe=function(e){var n=e.balance,t=e.symbol,r=(0,ie.Z)(e,se),a=(0,k.$G)().t;return(0,Z.jsxs)(ae.Yt,(0,i.Z)((0,i.Z)({},r),{},{children:[(0,Z.jsx)(h.aNP,{color:"burningOrange500",height:"26px",width:"26px",style:{alignSelf:"start"}}),(0,Z.jsxs)(h.xuv,{children:[(0,Z.jsx)(ae.S4,{large:!0,children:a("You don\u2019t have enough balance")}),(0,Z.jsxs)(h.xuv,{opacity:.6,children:[(0,Z.jsx)(ae.S4,{children:a("Your balance is ")}),(0,Z.jsxs)(ae.S4,{large:!0,className:"notranslate",translate:"no",children:[n.toFixed(6),"\xa0",t,"."]}),(0,Z.jsx)(ae.S4,{style:{marginLeft:"4px"},children:a("Top up your wallet balance.")})]})]})]}))},le=t(95231),de=t(43809),ce=function(){return(0,Z.jsx)(de.aV,{children:(0,Z.jsx)(h.HoD,{color:"blue500",width:"64px"})})},ue=function(e){var n=e.token,t=(0,k.$G)().t,r=(0,$.Z)().library,i=(0,a.useState)(!1),s=(0,m.Z)(i,2),o=s[0],l=s[1],d=function(){var e=(0,L.Z)((0,E.Z)().mark((function e(){var t;return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.prev=1,e.next=4,(0,U.N3)(n.address,r);case 4:return t=e.sent,e.next=7,t.wait();case 7:return e.prev=7,l(!1),e.finish(7);case 10:case"end":return e.stop()}}),e,null,[[1,,7,10]])})));return function(){return e.apply(this,arguments)}}();return o?(0,Z.jsx)(ce,{}):(0,Z.jsxs)(de.aV,{children:[(0,Z.jsx)(h.xvT,{mb:"40px",textAlign:"center",children:t("You need to approve %symbol% to be able to reinvest. By granting this permission, you\u2019re allowing Nomiswap Reinvestor contract to make transactions on your behalf.",{symbol:n.symbol})}),(0,Z.jsx)(h.zxk,{variant:"primary",width:"max-content",onClick:d,children:t("Enable")})]})},pe=V.ke.nmx,xe=function(e){var n,t=e.pid,r=e.onDismiss,s=(0,k.$G)().t,l=(0,h.SLI)().isMobile,d=(0,K.Z)(),u=(0,z.T)(),p=(0,O.Z)(),f=p.toastSuccess,g=p.toastError,y=(0,$.Z)(),v=y.account,j=y.library,w=function(e){var n=(0,a.useState)(!1),t=(0,m.Z)(n,2),r=t[0],i=t[1],s=(0,a.useState)(!1),o=(0,m.Z)(s,2),l=o[0],d=o[1],c=(0,$.Z)().account,u=(0,x.f6)(e),p=u.quoteToken,f=u.token,h=u.version,g=u.userData.earnings,y=(0,H.yX)(f,p,h),b=(0,m.Z)(y,2)[1].priceOf(ee),v=p.equals(ee)?f:p,j=g.multipliedBy(b.toFixed(18)).toFixed(0),k=function(){var e=(0,L.Z)((0,E.Z)().mark((function e(){var n;return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,U.RC)(c,v.address);case 2:n=e.sent,d(!0),i(n.gt(j));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return k(),{isApproved:r,isDataLoaded:l}}(t),S=w.isApproved,T=w.isDataLoaded,C=(0,x.f6)(t),I=C.contractAddresses,A=C.lpSymbol,D=C.quoteToken,P=C.token,q=C.userData.earnings,_=(0,H.yX)(P,D),B=(0,m.Z)(_,2)[1],R=Number(((null===(n=(0,Y.s9)())||void 0===n?void 0:n.raw)||0).toFixed(8)),F=(0,x.w5)(A),V=(0,a.useState)(null),M=(0,m.Z)(V,2),Q=M[0],X=M[1],J=(0,a.useState)(!1),ne=(0,m.Z)(J,2),ie=ne[0],ae=ne[1],se=D.equals(pe)?P:D,xe=se.symbol,me=B.priceOf(pe),fe=(0,N.U4)(new(o())(q)),he=fe.multipliedBy(R),ge=fe.multipliedBy(me.toFixed(18)),ye=he.div(F).times(2),be=he.times(2),ve="BNB"===(null===xe||void 0===xe?void 0:xe.toUpperCase()),je=(0,W._h)(v,ve?b.c0:se),ke=!(!je||!ge.gt(je.toExact())),we=(0,c.Kn)(I),Se=function(){var e=(0,L.Z)((0,E.Z)().mark((function e(){var n,t;return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=q.toString(),e.prev=1,e.next=4,(0,U.RV)(v,j,d,we,n);case 4:t=e.sent,X((0,i.Z)((0,i.Z)({},t),{},{deadline:d,nmxAmount:n})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),Te=function(){var e=(0,L.Z)((0,E.Z)().mark((function e(){var n;return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=q.multipliedBy(me.toFixed(18)).toFixed(0),e.prev=1,ae(!0),e.next=5,(0,U.$G)(j,ve,Q,n,we);case 5:f("".concat(s("Reinvested"),"!"),s("Your %symbol% earnings have been reinvested!",{symbol:"NMX"})),u((0,G.IV)({account:v,pids:[t]})),r(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),g(s("Error"),s("Please try again. Confirm the transaction and make sure you are paying enough gas!")),console.error(e.t0);case 14:return e.prev=14,ae(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,10,14,17]])})));return function(){return e.apply(this,arguments)}}();return(0,Z.jsx)(h.u_l,{bodyPadding:"0",minWidth:l?"370px":"500px",title:s("Reinvest NMX"),onDismiss:r,children:(0,Z.jsxs)(h.xuv,{position:"relative",children:[T&&je?!ve&&!S&&(0,Z.jsx)(ue,{token:se}):(0,Z.jsx)(ce,{}),(0,Z.jsxs)(h.xuv,{p:"24px",children:[(0,Z.jsx)(h.xvT,{mb:"8px",children:s("Reinvesting:")}),(0,Z.jsx)(le.Z,{nmxBalance:fe.toFixed(6),usdBalance:he.toFixed(2)}),(0,Z.jsxs)(de.wF,{children:[(0,Z.jsx)(de.N0,{children:(0,Z.jsx)(h.xvT,{color:"blue500",bold:!0,children:s("You need for reinvest")})}),(0,Z.jsxs)(de.NS,{children:[(0,Z.jsxs)(h.kCb,{alignItems:"center",children:[(0,Z.jsx)(h.Oic,{symbol:xe,height:20,width:20,style:{marginRight:"8px"}}),(0,Z.jsx)(h.xvT,{noTranslate:!0,children:xe})]}),(0,Z.jsx)(h.xvT,{children:ge.toFixed(6,o().ROUND_DOWN)})]}),ke&&(0,Z.jsx)(oe,{mt:"8px",balance:je,symbol:xe}),(0,Z.jsx)(de.N0,{children:(0,Z.jsx)(h.xvT,{color:"blue500",bold:!0,children:s("You will get")})}),(0,Z.jsxs)(de.NS,{children:[(0,Z.jsxs)(h.kCb,{alignItems:"center",children:[(0,Z.jsx)(h.Oic,{symbol:"NMX-LP",height:20,width:20,style:{marginRight:"8px"}}),(0,Z.jsx)(h.xvT,{noTranslate:!0,children:A})]}),(0,Z.jsx)(h.xvT,{children:ye.toFixed(6,o().ROUND_DOWN)})]}),(0,Z.jsxs)(h.xvT,{fontSize:"12px",color:"darkGray100",textAlign:"end",noTranslate:!0,children:["~",be.toFixed(2)," USD"]})]}),(0,Z.jsxs)(te.n,{children:[(0,Z.jsx)(h.zxk,{disabled:!!Q||ke,width:"100%",onClick:Se,children:s("Approve")}),(0,Z.jsx)(h.zxk,{disabled:!Q||ie,width:"100%",onClick:Te,children:s(ie?"Reinvesting":"Reinvest")})]}),(0,Z.jsx)(re.Z,{disabled:ke,isFirstStepCompleted:!!Q})]})]})})},me=f.ZP.div.withConfig({displayName:"styles__ActionContainer",componentId:"sc-lh950i-0"})(["padding:16px;background:",";border-radius:16px;flex-grow:1;flex-basis:0;display:flex;flex-direction:column;justify-content:space-between;height:100%;"],(function(e){return e.theme.colors.darkGray500})),fe=f.ZP.div.withConfig({displayName:"styles__ActionTitles",componentId:"sc-lh950i-1"})(["display:flex;margin-bottom:7px;"]),he=(f.ZP.div.withConfig({displayName:"styles__ActionContent",componentId:"sc-lh950i-2"})(["display:flex;justify-content:space-between;align-items:flex-end;gap:12px;"]),f.ZP.div.withConfig({displayName:"styles__ActionCard",componentId:"sc-lh950i-3"})(["background:",";border-radius:16px;display:flex;flex-direction:row;flex-grow:1;flex-basis:0;justify-content:space-between;height:100%;padding:16px;"],(function(e){return e.theme.colors.darkGray500}))),ge=f.ZP.div.withConfig({displayName:"styles__ActionBalance",componentId:"sc-lh950i-4"})(["display:flex;flex-direction:column;justify-content:space-between;"]),ye=f.ZP.div.withConfig({displayName:"styles__ActionButtons",componentId:"sc-lh950i-5"})(["display:flex;flex-direction:column;"]),be=t(72804),ve=function(e){var n=(0,X.Qv)(e.contractAddresses);return{onReward:(0,a.useCallback)((0,L.Z)((0,E.Z)().mark((function e(){return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,be.sA)(n);case 2:case"end":return e.stop()}}),e)}))),[n])}},je=V.ke.nmx,ke=function(e){var n=(0,l.Ge)().account,t=e.pid,r=e.quoteToken,i=e.token,s=e.earningToken,d=e.earningTokenPriceBusd,c=e.userData,u=e.userDataReady,p=e.version,x=(0,O.Z)(),f=x.toastSuccess,g=x.toastError,y=(0,a.useCallback)((function(){return(0,S.uf)((0,N.mW)(c.earnings,s.decimals))}),[c.earnings,s]),b=(0,a.useCallback)((function(){return(0,S.uf)(new(o())((0,N.mW)(c.earnings,s.decimals)).times(d).toNumber(),"toUSD")}),[c.earnings,s,d]),v=(0,a.useState)(!1),j=(0,m.Z)(v,2),w=j[0],T=j[1],C=ve(e).onReward,I=(0,k.$G)().t,A=(0,z.T)(),D=(0,h.ddY)((0,Z.jsx)(xe,{pid:t})),P=(0,m.Z)(D,1)[0],q=(0,H.yX)(i,r,p),_=(0,m.Z)(q,1)[0],B=r.equals(je)||i.equals(je),R=n&&u&&c.earnings.gt(0),F=!R||w,V=!R||_!==H._G.EXISTS||!c.allowance.isGreaterThan(0),W=function(){var t=(0,L.Z)((0,E.Z)().mark((function t(){var r;return(0,E.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return T(!0),t.prev=1,t.next=4,C();case 4:f("".concat(I("Harvested"),"!"),I("Your %symbol% earnings have been sent to your wallet!",{symbol:s.symbol})),r=(0,M.N)(e),A((0,G.IV)({account:n,farms:[r]})),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),g(I("Error"),I("Please try again. Confirm the transaction and make sure you are paying enough gas!"));case 12:return t.prev=12,T(!1),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[1,9,12,15]])})));return function(){return t.apply(this,arguments)}}();return(0,Z.jsxs)(he,{children:[(0,Z.jsxs)(ge,{children:[(0,Z.jsxs)(h.kCb,{children:[(0,Z.jsx)(h.xvT,{bold:!0,textTransform:"uppercase",color:"primary",fontSize:"12px",pr:"4px",noTranslate:!0,children:s.symbol}),(0,Z.jsx)(h.xvT,{bold:!0,textTransform:"uppercase",color:"white",fontSize:"12px",children:I("Earned")})]}),(0,Z.jsxs)(h.kCb,{flexDirection:"column",flexGap:"4px",children:[(0,Z.jsx)(h.VRh,{loading:!u,width:"80px",height:"22px",children:(0,Z.jsx)(h.X6q,{lineHeight:1,children:y()})}),(0,Z.jsx)(h.VRh,{loading:!u,width:"40px",height:"12px",children:(0,Z.jsx)(h.xvT,{fontSize:"12px",lineHeight:1,color:"textSubtle",children:b()})})]})]}),(0,Z.jsxs)(ye,{children:[B&&(0,Z.jsx)(h.zxk,{variant:"success",scale:"sm",disabled:V,onClick:P,children:I("Reinvest")}),(0,Z.jsx)(h.zxk,{variant:"tertiary",scale:"sm",disabled:F,onClick:W,mt:"12px",children:I(w?"Harvesting":"Harvest")})]})]})},we=t(62001),Se=t(64162),Te=function(e){var n=(0,X.Qv)(e.contractAddresses),t=(0,a.useCallback)(function(){var e=(0,L.Z)((0,E.Z)().mark((function e(t){return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,be.dU)(n,t);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[n]);return{onUnstake:t}},Ze=(0,f.ZP)(h.xvT).withConfig({displayName:"DepositModal__AnnualRoiDisplay",componentId:"sc-1mcunm1-0"})(["width:72px;max-width:72px;overflow:hidden;text-align:right;text-overflow:ellipsis;"]),Ce=function(e){var n=e.max,t=e.onConfirm,r=e.onDismiss,i=e.tokenName,s=void 0===i?"":i,l=e.lpPrice,d=e.apr,c=e.addLiquidityUrl,u=e.earningTokenPrice,x=(0,a.useState)(""),f=(0,m.Z)(x,2),g=f[0],y=f[1],b=(0,O.Z)(),v=b.toastSuccess,j=b.toastError,w=(0,a.useState)(!1),T=(0,m.Z)(w,2),C=T[0],I=T[1],A=(0,k.$G)().t,D=(0,a.useMemo)((function(){return(0,N.NJ)(n)}),[n]),P=new(o())(g),q=new(o())(D),_=P.times(l),B=(0,p.A1)({principalInUSD:P.isNaN()?0:_.toNumber(),apr:d,earningTokenPrice:u.toNumber()}),R=u.times(B[3]),F=(0,S.uf)(R.toNumber(),R.gt(1e4)?{minimumFractionDigits:0,maximumFractionDigits:0}:{minimumFractionDigits:2,maximumFractionDigits:2}),z=(0,a.useCallback)((function(e){e.currentTarget.validity.valid&&y(e.currentTarget.value.replace(/,/g,"."))}),[y]),G=(0,a.useCallback)((function(){y(D)}),[D,y]);return(0,Z.jsxs)(h.u_l,{title:A("Stake LP tokens"),onDismiss:r,children:[(0,Z.jsx)(te.S,{value:g,onSelectMax:G,onChange:z,max:D,symbol:s,addLiquidityUrl:c,inputTitle:A("Stake")}),(0,Z.jsxs)(h.kCb,{mt:"24px",alignItems:"center",justifyContent:"space-between",children:[(0,Z.jsxs)(h.xvT,{mr:"8px",color:"textSubtle",children:[A("Annual ROI at current rates"),":"]}),(0,Z.jsxs)(Ze,{className:"notranslate",translate:"no",children:["$",F]})]}),(0,Z.jsxs)(te.n,{children:[(0,Z.jsx)(h.zxk,{variant:"secondary",onClick:r,width:"100%",disabled:C,children:A("Cancel")}),(0,Z.jsx)(h.zxk,{width:"100%",disabled:C||!P.isFinite()||P.eq(0)||P.gt(q),onClick:(0,L.Z)((0,E.Z)().mark((function e(){return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(!0),e.prev=1,e.next=4,t(g);case 4:v(A("Staked!"),A("Your funds have been staked in the farm")),r(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),j(A("Error"),A("Please try again. Confirm the transaction and make sure you are paying enough gas!")),console.error(e.t0);case 12:return e.prev=12,I(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])}))),children:A(C?"Confirming":"Confirm")})]}),(0,Z.jsx)(h.NRJ,{href:c,style:{alignSelf:"center"},children:A("Get %symbol%",{symbol:s})})]})},Ne=t(53935),Ie=function(e){var n=e.onConfirm,t=e.onDismiss,r=e.max,i=e.tokenName,s=void 0===i?"":i,l=(0,a.useState)(""),d=(0,m.Z)(l,2),c=d[0],u=d[1],p=(0,O.Z)(),x=p.toastSuccess,f=p.toastError,g=(0,a.useState)(!1),y=(0,m.Z)(g,2),b=y[0],v=y[1],j=(0,k.$G)().t,w=(0,a.useMemo)((function(){return(0,N.NJ)(r)}),[r]),S=new(o())(c),T=new(o())(w),C=(0,a.useCallback)((function(e){e.currentTarget.validity.valid&&u(e.currentTarget.value.replace(/,/g,"."))}),[u]),I=(0,a.useCallback)((function(){u(w)}),[w,u]);return(0,Z.jsxs)(h.u_l,{title:j("Unstake LP tokens"),onDismiss:t,children:[(0,Z.jsx)(te.S,{onSelectMax:I,onChange:C,value:c,max:w,symbol:s,inputTitle:j("Unstake")}),(0,Z.jsx)(Ne.Z,{mt:"24px"}),(0,Z.jsxs)(te.n,{children:[(0,Z.jsx)(h.zxk,{variant:"secondary",onClick:t,width:"100%",disabled:b,children:j("Cancel")}),(0,Z.jsx)(h.zxk,{disabled:b||!S.isFinite()||S.eq(0)||S.gt(T),onClick:(0,L.Z)((0,E.Z)().mark((function e(){return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.prev=1,e.next=4,n(c);case 4:x(j("Unstaked!"),j("Your earnings have also been harvested to your wallet")),t(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),f(j("Error"),j("Please try again. Confirm the transaction and make sure you are paying enough gas!")),console.error(e.t0);case 12:return e.prev=12,v(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])}))),width:"100%",children:j(b?"Confirming":"Confirm")})]})]})},Ae=function(e){var n=(0,X.Qv)(e.contractAddresses);return{onStake:(0,a.useCallback)((function(e){return(0,be.AQ)(n,e)}),[n])}},De=function(e){var n=e.stakedBalance,t=e.pid,r=e.quoteTokenSymbol,i=e.tokenSymbol,s=e.lpTotalSupply,o=e.tokenAmountTotal,l=e.quoteTokenAmountTotal,d=(0,x.SK)(t),c=(0,a.useCallback)((function(){return(0,S.uf)((0,N.mW)(n))}),[n]),u=(0,a.useCallback)((function(){return(0,S.uf)((0,N.mW)(d.times(n)),"toUSD")}),[d,n]),p=(0,a.useCallback)((function(){return(0,S.uf)(n.div(s).times(o).toNumber())}),[s,n,o]),m=(0,a.useCallback)((function(){return(0,S.uf)(n.div(s).times(l).toNumber())}),[s,n,l]);return(0,Z.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,Z.jsx)("span",{className:"text-white text-20 font-medium leading-none",children:c()}),(0,Z.jsx)("span",{className:"text-dark-gray-100 text-12 leading-none",children:u()}),n.gt(0)&&d.gt(0)&&(0,Z.jsxs)("div",{className:"flex items-center gap-4 text-dark-gray-100 text-12 leading-none",children:[(0,Z.jsxs)("span",{children:[p()," ",i]}),(0,Z.jsx)("span",{children:"+"}),(0,Z.jsxs)("span",{children:[m()," ",r]})]})]})},Pe=function(e){var n=e.pid,t=e.cumulativeApr,r=e.lpSymbol,i=e.quoteToken,o=e.token,d=e.userDataReady,c=e.earningTokenPriceBusd,u=e.displayApr,p=e.lpTotalSupply,f=e.tokenAmountTotal,g=e.quoteTokenAmountTotal,y=e.finished,b=(0,k.$G)().t,v=(0,O.Z)().toastError,j=(0,l.Ge)().account,w=(0,a.useState)(!1),S=(0,m.Z)(w,2),T=S[0],C=S[1],N=(0,x.Dx)(n),I=N.allowance,A=N.tokenBalance,D=N.stakedBalance,P=Ae(e).onStake,q=Te(e).onUnstake,_=(0,x.w5)(r),B=j&&I&&I.isGreaterThan(0),F=(0,R.Z)({quoteTokenAddress:i.address,tokenAddress:o.address}),V="".concat(Se.wI,"/").concat(F),H=function(e){var n=(0,M.N)(e);J((0,G.IV)({account:j,farms:[n]}))},W=function(){var n=(0,L.Z)((0,E.Z)().mark((function n(t){return(0,E.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,P(t);case 2:H(e);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),U=function(){var n=(0,L.Z)((0,E.Z)().mark((function n(t){return(0,E.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,q(t);case 2:H(e);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),Y=e.contractAddresses,$=(0,h.ddY)((0,Z.jsx)(Ce,{stakingServiceAddress:Y,max:A,lpPrice:_,lpSymbol:r,apr:t,displayApr:u,stakedBalance:D,onConfirm:W,tokenName:r,addLiquidityUrl:V,earningTokenPrice:new s.BigNumber(c)})),K=(0,m.Z)($,1)[0],Q=(0,h.ddY)((0,Z.jsx)(Ie,{max:D,onConfirm:U,tokenName:r})),X=(0,m.Z)(Q,1)[0],J=(0,z.T)(),ee=ne(e).onApprove,te=(0,a.useCallback)((0,L.Z)((0,E.Z)().mark((function n(){return(0,E.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,C(!0),n.next=4,ee();case 4:H(e),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),v(b("Error"),b("Please try again. Confirm the transaction and make sure you are paying enough gas!"));case 10:return n.prev=10,C(!1),n.finish(10);case 13:case"end":return n.stop()}}),n,null,[[0,7,10,13]])}))),[ee,j,n]),re=(0,a.useCallback)((function(){return j?B?D.gt(0)?(0,Z.jsxs)("div",{className:"flex items-center justify-end gap-6",children:[(0,Z.jsx)(h.hU,{disabled:y,onClick:K,children:(0,Z.jsx)(h.dtP,{color:"white",width:"20px"})}),(0,Z.jsx)(h.hU,{variant:"tertiary",onClick:X,children:(0,Z.jsx)(h.V_R,{color:"white",width:"20px"})})]}):(0,Z.jsx)(h.zxk,{width:"100%",variant:"primary",disabled:y,onClick:K,children:b("Stake LP")}):d?(0,Z.jsx)(h.zxk,{width:"100%",disabled:T,onClick:te,variant:"secondary",children:b("Enable farm")}):(0,Z.jsx)(h.OdW,{width:180,marginBottom:28,marginTop:14}):(0,Z.jsx)(we.Z,{width:"100%"})}),[j,B,y,D,T,d]);return(0,Z.jsxs)(me,{children:[(0,Z.jsxs)(fe,{children:[(0,Z.jsx)(h.xvT,{bold:!0,textTransform:"uppercase",color:"primary",fontSize:"12px",pr:"4px",noTranslate:!0,children:r}),(0,Z.jsx)(h.xvT,{bold:!0,textTransform:"uppercase",color:"white",fontSize:"12px",children:b("Staked")})]}),(0,Z.jsxs)("div",{className:"grid grid-flow-col items-end justify-between gap-12",children:[(0,Z.jsx)(De,{stakedBalance:D,pid:n,quoteTokenSymbol:i.symbol,tokenSymbol:o.symbol,lpTotalSupply:p,tokenAmountTotal:f,quoteTokenAmountTotal:g}),re()]})]})},qe=f.ZP.div.withConfig({displayName:"ActionPanel__Container",componentId:"sc-oan67o-0"})(["background:",";display:grid;grid-gap:16px;padding:16px;border-radius:6px;margin-top:16px;","{grid-template-columns:repeat(auto-fit,minmax(180px,auto) minmax(250px,320px) minmax(250px,380px));}"],(function(e){var n=e.theme;return"".concat(n.colors.primary,"29")}),(function(e){return e.theme.mediaQueries.md})),_e=(0,f.ZP)(h.NRJ).withConfig({displayName:"ActionPanel__StyledLinkExternal",componentId:"sc-oan67o-1"})(["font-size:14px;font-weight:400;& svg{width:14px;}"]),Be=f.ZP.div.withConfig({displayName:"ActionPanel__InfoContainer",componentId:"sc-oan67o-2"})(["display:grid;grid-gap:12px;order:3;","{align-content:center;order:-1;}"],(function(e){return e.theme.mediaQueries.md})),Re=function(e){var n=e.details,t=e.userDataReady,r=n,a=(0,k.$G)().t,s=!r.finished,o=r.quoteToken,l=r.token,d=(0,R.Z)({quoteTokenAddress:o.address,tokenAddress:l.address}),u=(0,c.Kn)(r.lpAddresses),p=(0,c.Kn)(r.contractAddresses),x=(0,F.s6)(u,"address"),m=(0,F.s6)(p,"address");return(0,Z.jsxs)(qe,{children:[(0,Z.jsxs)(Be,{children:[s&&(0,Z.jsx)(_e,{href:"/liquidity/add/".concat(d).concat(r.version!==b.Gi.V1?"?version=".concat(r.version):""),children:a("Get %symbol%",{symbol:r.lpSymbol})}),(0,Z.jsx)(_e,{href:x,children:a("View Pair Contract")}),(0,Z.jsx)(_e,{href:m,children:a("View Farm Contract")})]}),(0,Z.jsx)(ke,(0,i.Z)((0,i.Z)({},r),{},{userDataReady:t})),(0,Z.jsx)(Pe,(0,i.Z)((0,i.Z)({},r),{},{userDataReady:t,lpSymbol:r.lpSymbol}))]})},Fe=t(1649);!function(e){e[e.ACTIVE=0]="ACTIVE",e[e.HOT=1]="HOT",e[e.NEW=2]="NEW",e[e.LEVEL_UP=3]="LEVEL_UP",e[e.INACTIVE=4]="INACTIVE",e[e.MIGRATION=5]="MIGRATION",e[e.HIGH_RISK=6]="HIGH_RISK"}(r||(r={}));var Ee,Le,ze=function(e){switch(e.type){case r.ACTIVE:return(0,Z.jsx)(Fe.MD,{});case r.INACTIVE:return(0,Z.jsx)(Fe.h7,{});case r.HOT:return(0,Z.jsx)(Fe.ac,{});case r.NEW:return(0,Z.jsx)(Fe.PS,{});case r.LEVEL_UP:return(0,Z.jsx)(Fe.nK,{});case r.MIGRATION:return(0,Z.jsx)(I.Zl,{});case r.HIGH_RISK:return(0,Z.jsx)(I.jw,{});default:return null}},Ge=t(14195),Ve=t(36997),Me=(0,f.ZP)(h.xuv).withConfig({displayName:"styles__StyledWrapper",componentId:"sc-o21sbg-0"})(["align-items:flex-start;background-color:",";border:2px solid ",";border-radius:6px;padding:16px;"],(function(e){var n=e.theme;return"".concat(n.colors.purple500,"1A")}),(function(e){return e.theme.colors.purple500})),Oe=(0,f.ZP)(h.kCb).withConfig({displayName:"styles__StyledValuesWrapper",componentId:"sc-o21sbg-1"})(["align-items:start;flex-direction:row;justify-content:space-between;@media screen and (max-width:968px){flex-direction:column;gap:10px;}"]),He=(0,f.ZP)(h.kCb).withConfig({displayName:"styles__StyledLabelValueWrapper",componentId:"sc-o21sbg-2"})(["flex-direction:column;justify-content:space-between;@media screen and (max-width:968px){flex-direction:row;width:100%;}"]),We=(0,f.ZP)(h.xvT).withConfig({displayName:"styles__StyledUsdValue",componentId:"sc-o21sbg-3"})(["font-size:11px;text-align:start;@media screen and (max-width:968px){text-align:end;}"]),Ue=(0,f.ZP)(h.xvT).withConfig({displayName:"styles__TextLabel",componentId:"sc-o21sbg-4"})(["color:",";font-size:11px;@media screen and (max-width:968px){color:",";font-size:14px;}"],(function(e){return e.theme.colors.placeholder}),(function(e){return e.theme.colors.white})),Ye=["farmAddress","apr"],$e=function(e){var n,t,r=e.farmAddress,a=e.apr,s=(0,ie.Z)(e,Ye),o=(0,k.$G)().t,l=(0,Ge.Z)().theme,c=(0,h.SLI)(),u=c.isMobile,p=c.isTablet,m=u||p,f=(0,d.C0)(),g=f.getHolderBonus,y=f.isHolderBonusLoading,b=f.isTotalEarnedLoading,v=f.isUnclaimedLoading,j=(0,x.lw)(r),T=g(r),C=null===T.nextLevelNumberOfDays,N=(null===(n=j.holderBonusPool)||void 0===n?void 0:n.dailyPoolSizeNmx)>0,I=T.nextLevelNumberOfDays-T.currentNumberOfDays,A=Number(((null===(t=(0,Y.s9)())||void 0===t?void 0:t.raw)||0).toFixed(8)),D=T.totalEarned*A,P=T.unclaimed*A,q=T.currentRewardInNmx*A;return(0,Z.jsxs)(Me,(0,i.Z)((0,i.Z)({},s),{},{children:[(0,Z.jsxs)(h.kCb,{flexDirection:m?"column":"row",flexGap:m?"10px":"40px",children:[(0,Z.jsxs)(Oe,{width:"55%",children:[(0,Z.jsxs)(h.kCb,{alignItems:"center",flexGap:"8px",children:[(0,Z.jsx)(h.zQb,{color:"purple500",height:"18px",width:"18px"}),(0,Z.jsx)(h.xvT,{fontSize:"14px",bold:!0,children:o("Holder bonus")})]}),(0,Z.jsxs)(h.kCb,{alignItems:"center",flexGap:"4px",children:[(0,Z.jsx)(h.xvT,{fontSize:"14px",children:o("Pool share")}),(0,Z.jsxs)(h.VRh,{loading:y,fontSize:"14px",bold:!0,children:[(0,S.uf)(100*T.poolShare||0,{maximumSignificantDigits:3}),"%"]}),(0,Z.jsxs)(h.VRh,{loading:y,color:"success",fontSize:"14px",bold:!0,children:["+",100*T.currentBonus,"%"]}),(0,Z.jsx)(w.Rb,{content:o("Your share among all farmers. These holder bonus rewards are distributed between all farmers in this pool in proportion to their staked liquidity pool tokens. Your share increases by the coefficient that depend on the duration of continuous farming."),hoist:!0,children:(0,Z.jsx)(h.byK,{height:"12px",color:"textSubtle"})})]})]}),(0,Z.jsx)(Oe,{width:m?"55%":"45%",children:a>0&&N&&(0,Z.jsxs)(h.kCb,{flexDirection:"row",alignItems:"start",flexGap:"6px",children:[(0,Z.jsx)(h.xvT,{fontSize:"14px",children:o("Reward info")}),(0,Z.jsxs)(h.Vp9,{variant:"purple",scale:"xs",fontSize:"11px",fontWeight:"600",children:["+",(0,S.uf)(a/100,"percentage")," APR"]})]})})]}),(0,Z.jsxs)(h.kCb,{flexDirection:m?"column":"row",mt:"16px",flexGap:!m&&"40px",children:[(0,Z.jsxs)(h.kCb,{flexDirection:"column",width:m?"100%":"55%",children:[(0,Z.jsxs)(h.xuv,{children:[(0,Z.jsxs)(h.kCb,{justifyContent:"space-between",mb:"6px",children:[(0,Z.jsxs)(h.VRh,{loading:y,fontSize:"11px",bold:!0,children:[100*T.currentBonus,"%"]}),!!T.nextBonus&&(0,Z.jsxs)(h.VRh,{loading:y,fontSize:"11px",bold:!0,children:[100*T.nextBonus,"%"]})]}),(0,Z.jsx)(h.Exd,{label:y?o("Loading..."):C?o("%num% days",{num:T.currentNumberOfDays}):"".concat(T.currentNumberOfDays,"/").concat(T.nextLevelNumberOfDays),primaryStep:C?100:T.currentNumberOfDays/T.nextLevelNumberOfDays*100,color:C?l.colors.success:l.colors.purple500,variant:"semi-flat"})]}),(0,Z.jsxs)(h.xuv,{mt:"10px",children:[(0,Z.jsxs)(h.xvT,{fontSize:"12px",children:[(0,Z.jsx)(h.szr,{width:"14px",color:"primary",mr:"4px",style:{verticalAlign:"text-bottom"}}),C?o("Congratulations! You have reached maximum holder bonus."):o("Farm %nextLevelDaysLeft% days more to increase your holder bonus to %nextPercent%%.",{nextLevelDaysLeft:I,nextPercent:100*T.nextBonus})]}),(0,Z.jsx)(h.rUS,{fontSize:"12px",external:!0,href:"#",children:o("Learn more")})]})]}),m&&(0,Z.jsx)(Ve.i,{my:"16px"}),j.holderBonusPool?N?(0,Z.jsxs)(Oe,{width:m?"100%":"45%",children:[(0,Z.jsxs)(He,{children:[(0,Z.jsx)(Ue,{children:o("Daily reward")}),(0,Z.jsx)(h.kCb,{flexDirection:"column",children:(0,Z.jsxs)(h.VRh,{loading:y,height:"38px",noTranslate:!0,children:[(0,Z.jsxs)(h.xvT,{fontSize:"14px",bold:!0,children:[(0,S.uf)(T.currentRewardInNmx)," NMX"]}),(0,Z.jsxs)(We,{children:["$",q.toFixed(2)]})]})})]}),(0,Z.jsxs)(He,{children:[(0,Z.jsx)(Ue,{children:o("Total earned")}),(0,Z.jsx)(h.kCb,{flexDirection:"column",children:(0,Z.jsxs)(h.VRh,{loading:b,height:"38px",noTranslate:!0,children:[(0,Z.jsxs)(h.xvT,{fontSize:"14px",bold:!0,children:[(0,S.uf)(T.totalEarned)," NMX"]}),(0,Z.jsxs)(We,{children:["$",D.toFixed(2)]})]})})]}),(0,Z.jsxs)(He,{children:[(0,Z.jsx)(Ue,{children:o("Unclaimed")}),(0,Z.jsx)(h.kCb,{flexDirection:"column",children:(0,Z.jsxs)(h.VRh,{loading:v,height:"38px",noTranslate:!0,children:[(0,Z.jsxs)(h.xvT,{fontSize:"14px",color:"success",bold:!0,children:[(0,S.uf)(T.unclaimed)," NMX"]}),(0,Z.jsxs)(We,{color:"success",children:["$",P.toFixed(2)]})]})})]})]}):(0,Z.jsx)(h.xuv,{p:"16px",width:m?"100%":"45%",children:(0,Z.jsx)(h.xvT,{textAlign:"center",fontSize:"14px",color:"burningOrange500",children:o("Holder bonus is temporarily disabled for this pool")})}):(0,Z.jsx)(h.xuv,{p:"16px",width:m?"100%":"45%",children:(0,Z.jsx)(h.kCb,{justifyContent:"center",children:(0,Z.jsx)(h.HoD,{color:"purple500",width:"35px"})})})]})]}))},Ke=t(4942),Qe=t(52009),Xe=t(86430);!function(e){e.uint8="uint8",e.uint128="uint128",e.uint256="uint256"}(Le||(Le={}));var Je=(Ee={},(0,Ke.Z)(Ee,Le.uint8,"0xff"),(0,Ke.Z)(Ee,Le.uint128,"0xffffffffffffffffffffffffffffffff"),(0,Ke.Z)(Ee,Le.uint256,"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Ee),en=[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],nn=[{name:"owner",type:"address"},{name:"spender",type:"address"},{name:"value",type:"uint128"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"}],tn=[{name:"owner",type:"address"},{name:"spender",type:"address"},{name:"value",type:"uint128"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"}],rn=function(){var e=(0,L.Z)((0,E.Z)().mark((function e(n,t,r,i,a){var s,o,l,d;return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=(0,Xe.xW)(i),e.next=3,s.nonces(n);case 3:return e.t0=e.sent.toNumber(),o=e.t0+1,l={owner:n,spender:(0,c.jH)(),value:a,nonce:o,deadline:r},d=JSON.stringify({types:{EIP712Domain:en,Claim:nn},domain:{name:"StakingService",version:"1",chainId:b.a_.MAINNET,verifyingContract:s.address},primaryType:"Claim",message:l}),e.abrupt("return",t.send("eth_signTypedData_v4",[n,d]).then(Qe.splitSignature));case 8:case"end":return e.stop()}}),e)})));return function(n,t,r,i,a){return e.apply(this,arguments)}}(),an=function(){var e=(0,L.Z)((0,E.Z)().mark((function e(n,t,r,i,a){var s,o,l,d;return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=(0,Xe.xW)(i),e.next=3,s.nonces(n);case 3:return o=e.sent.toNumber(),l={owner:n,spender:(0,c.jH)(),value:a,nonce:o,deadline:r},d=JSON.stringify({types:{EIP712Domain:en,Unstake:tn},domain:{name:"StakingService",version:"1",chainId:b.a_.MAINNET,verifyingContract:s.address},primaryType:"Unstake",message:l}),e.abrupt("return",t.send("eth_signTypedData_v4",[n,d]).then(Qe.splitSignature));case 7:case"end":return e.stop()}}),e)})));return function(n,t,r,i,a){return e.apply(this,arguments)}}(),sn=function(){var e=(0,L.Z)((0,E.Z)().mark((function e(n,t,r,i,a,s,o,l){var d,c,u,p,x,m,f,h,g,y,b;return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d=(0,Xe.eW)(n.getSigner()),c=(0,Qe.splitSignature)(o),u=c.v,p=c.r,x=c.s,m=(0,Qe.splitSignature)(l),f=m.v,h=m.r,g=m.s,y=[a,s,u,p,x,i,f,h,g],e.next=8,d.migrate(t,r,y);case 8:return b=e.sent,e.abrupt("return",b.wait());case 10:case"end":return e.stop()}}),e)})));return function(n,t,r,i,a,s,o,l){return e.apply(this,arguments)}}(),on=t(81431),ln=(0,f.ZP)(h.xuv).withConfig({displayName:"LiquidityMigrationModal__StyledPoolWrapper",componentId:"sc-np18x4-0"})([""," background-image:linear-gradient(108.82deg,#3e56ff 33.45%,#0217d8 99.53%);"],{padding:"2px",borderRadius:"6px"}),dn=(0,f.ZP)(h.xuv).withConfig({displayName:"LiquidityMigrationModal__StyledPoolContent",componentId:"sc-np18x4-1"})([""," background-color:#152149;"],{paddingLeft:"24px",paddingRight:"24px",paddingTop:"16px",paddingBottom:"16px",borderRadius:"6px"}),cn=(0,f.ZP)(w.Ee).withConfig({displayName:"LiquidityMigrationModal__BaseStyledBadge",componentId:"sc-np18x4-2"})(["::part(base){","}"],{"--tw-text-opacity":"1",color:"rgb(255 255 255 / var(--tw-text-opacity))",fontSize:"12px",letterSpacing:"0px",lineHeight:"14px",fontWeight:"500"}),un=(0,f.ZP)(cn).withConfig({displayName:"LiquidityMigrationModal__StyledV1SlBadge",componentId:"sc-np18x4-3"})(["::part(base){","}"],{"--tw-bg-opacity":"1",backgroundColor:"rgb(129 144 183 / var(--tw-bg-opacity))"}),pn=(0,f.ZP)(cn).withConfig({displayName:"LiquidityMigrationModal__StyledV2SlBadge",componentId:"sc-np18x4-4"})(["::part(base){background:linear-gradient(128.65deg,#ff7426 -2.22%,#b100ce 91.69%);}"]),xn=function(e){var n=e.pid,t=e.onDismiss,r=(0,k.$G)().t,i=(0,Ge.Z)().theme,s=(0,h.SLI)().isMobile,l=(0,K.Z)(),d=(0,z.T)(),u=(0,O.Z)(),p=u.toastSuccess,f=u.toastError,g=(0,$.Z)(),y=g.account,b=g.library,v=(0,x.f6)(n),j=(0,x.f6)(v.migrateTo),w=(0,a.useState)(null),T=(0,m.Z)(w,2),C=T[0],I=T[1],A=(0,a.useState)(null),D=(0,m.Z)(A,2),P=D[0],q=D[1],_=(0,a.useState)(!1),B=(0,m.Z)(_,2),R=B[0],F=B[1],V=(0,c.Kn)(v.contractAddresses),M=(0,c.Kn)(j.contractAddresses),H=Je[Le.uint128].toString(),W=new(o())(v.userData.stakedBalance).toString(),U=(0,a.useMemo)((function(){return(0,S.uf)((0,N.mW)(v.userData.stakedBalance))}),[v.userData.stakedBalance]),Y=(0,a.useMemo)((function(){return(0,S.uf)(v.userData.stakedBalance.div(v.lpTotalSupply).times(v.tokenAmountTotal).toNumber())}),[v.userData.stakedBalance,v.lpTotalSupply,v.tokenAmountTotal]),Q=(0,a.useMemo)((function(){return(0,S.uf)(v.userData.stakedBalance.div(v.lpTotalSupply).times(v.quoteTokenAmountTotal).toNumber())}),[v.userData.stakedBalance,v.lpTotalSupply,v.quoteTokenAmountTotal]),X=function(){var e=(0,L.Z)((0,E.Z)().mark((function e(){var n,t;return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,an(y,b,l,V,W);case 3:n=e.sent,I(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),f(r("Error"),r("Can\u2019t get signature. Please try again."));case 10:return e.prev=10,e.next=13,rn(y,b,l,V,H);case 13:t=e.sent,q(t),e.next=20;break;case 17:e.prev=17,e.t1=e.catch(10),f(r("Error"),r("Can\u2019t get signature. Please try again."));case 20:case"end":return e.stop()}}),e,null,[[0,7],[10,17]])})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=(0,L.Z)((0,E.Z)().mark((function e(){return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,F(!0),e.next=4,sn(b,V,M,H,W,l,C,P);case 4:p("".concat(r("Migrated"),"!"),r("Your liquidity has been migrated!")),d((0,G.IV)({account:y,pids:[v.pid,j.pid]})),t(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),f(r("Error"),r("Please try again. Confirm the transaction and make sure you are paying enough gas!"));case 12:return e.prev=12,F(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(){return e.apply(this,arguments)}}();return(0,Z.jsx)(h.u_l,{bodyPadding:"0",minWidth:s?"auto":"500px",title:r("Migrate v1 liquidity"),onDismiss:t,children:(0,Z.jsx)(h.xuv,{position:"relative",children:(0,Z.jsxs)(h.xuv,{p:"24px",children:[(0,Z.jsx)(h.xvT,{mb:"16px",children:r("This tool will safely migrate your V1 liquidity to V2.")}),(0,Z.jsx)(ln,{children:(0,Z.jsxs)(dn,{children:[(0,Z.jsxs)(h.kCb,{alignItems:"center",mb:"16px",children:[(0,Z.jsxs)(h.kCb,{alignItems:"center",mr:"8px",children:[(0,Z.jsx)(h.qAc,{variant:"row",primarySymbol:v.token.symbol,secondarySymbol:v.quoteToken.symbol,size:20,mr:"8px"}),(0,Z.jsx)(h.xvT,{fontSize:"16px",semibold:!0,children:v.lpSymbol})]}),(0,Z.jsx)(un,{pill:!0,children:"V1"})]}),(0,Z.jsxs)(h.kCb,{alignItems:"center",justifyContent:"space-between",mb:"12px",children:[(0,Z.jsx)(h.xvT,{color:"textSubtle",children:r("Total pool tokens")}),(0,Z.jsx)(h.xvT,{bold:!0,children:U})]}),(0,Z.jsxs)(h.kCb,{alignItems:"center",justifyContent:"space-between",mb:"12px",children:[(0,Z.jsxs)(h.kCb,{alignItems:"center",mr:"8px",children:[(0,Z.jsx)(h.Oic,{symbol:v.token.symbol,width:20,height:20,mr:"8px"}),(0,Z.jsx)(h.xvT,{color:"textSubtle",children:r("Pooled %symbol%",{symbol:v.token.symbol})})]}),(0,Z.jsx)(h.xvT,{bold:!0,children:Y})]}),(0,Z.jsxs)(h.kCb,{alignItems:"center",justifyContent:"space-between",mb:"12px",children:[(0,Z.jsxs)(h.kCb,{alignItems:"center",mr:"8px",children:[(0,Z.jsx)(h.Oic,{symbol:v.quoteToken.symbol,width:20,height:20,mr:"8px"}),(0,Z.jsx)(h.xvT,{color:"textSubtle",children:r("Pooled %symbol%",{symbol:v.quoteToken.symbol})})]}),(0,Z.jsx)(h.xvT,{bold:!0,children:Q})]})]})}),(0,Z.jsx)(h.kCb,{justifyContent:"center",alignItems:"center",pb:"8px",children:(0,Z.jsx)(on.Z,{animation:"scale",background:"linear-gradient(108.82deg, #3E56FF 33.45%, #0217D8 99.53%)",children:(0,Z.jsx)(h.veu,{color:i.colors.white})})}),(0,Z.jsx)(ln,{children:(0,Z.jsx)(dn,{children:(0,Z.jsxs)(h.kCb,{alignItems:"center",children:[(0,Z.jsxs)(h.kCb,{alignItems:"center",mr:"8px",children:[(0,Z.jsx)(h.qAc,{variant:"row",primarySymbol:v.token.symbol,secondarySymbol:v.quoteToken.symbol,size:20,mr:"8px"}),(0,Z.jsx)(h.xvT,{fontSize:"16px",semibold:!0,children:v.lpSymbol})]}),(0,Z.jsx)(pn,{pill:!0,children:"V2"})]})})}),(0,Z.jsxs)(h.kCb,{alignItems:"start",background:"linear-gradient(108.82deg, #783BFF 33.45%, #410BB9 99.53%)",borderRadius:"6px",p:"16px",mt:"16px",children:[(0,Z.jsx)(h.S50,{color:"white",height:"18px",width:"18px",mr:"8px"}),(0,Z.jsx)(h.xvT,{fontSize:"14px",children:r("Your holder bonus will be retained")})]}),(0,Z.jsxs)(te.n,{children:[(0,Z.jsx)(h.zxk,{disabled:!!C&&!!P,width:"100%",onClick:X,children:r("Approve")}),(0,Z.jsx)(h.zxk,{disabled:!C||!P||R,width:"100%",onClick:J,children:r(R?"Migrating":"Migrate liquidity")})]}),(0,Z.jsx)(re.Z,{isFirstStepCompleted:!!C&&!!P})]})})})},mn=["farm"],fn=function(e){var n,t,r=e.farm,a=(0,ie.Z)(e,mn),s=(0,h.SLI)().isMobile,o=(0,Ge.Z)().theme,l=(0,k.$G)().t,d=(0,x.Dx)(null!==(n=r.migrateFrom)&&void 0!==n?n:r.pid).stakedBalance,c=(0,h.ddY)((0,Z.jsx)(xn,{pid:null!==(t=r.migrateFrom)&&void 0!==t?t:r.pid})),u=(0,m.Z)(c,1)[0];return(0,Z.jsx)(h.xuv,(0,i.Z)((0,i.Z)({background:o.colors.pink500,borderRadius:6,mt:"16px"},a),{},{children:(0,Z.jsxs)(h.kCb,{alignItems:"center",justifyContent:"space-between",flexGap:"16px",flexWrap:"wrap",p:"16px",children:[(0,Z.jsxs)(h.kCb,{alignItems:s?"center":"start",justifyContent:s?"space-between":"center",flexGrow:s?"1":"0",flexGap:"8px",children:[(0,Z.jsx)(h.xvT,{fontSize:"14px",color:"".concat(o.colors.white,"80"),children:l("Your v1 liquidity")}),(0,Z.jsxs)(h.xvT,{fontSize:"14px",bold:!0,children:[(0,S.uf)((0,N.mW)(d))," ",r.lpSymbol]})]}),(0,Z.jsx)(h.zxk,{variant:"success",width:s?"100%":"auto",onClick:u,children:l("Migrate liquidity")})]})}))},hn=["farm"],gn=(0,f.ZP)(h.kCb).withConfig({displayName:"ConcentratedLiquidityMigrationPromo__StyledImageWrapper",componentId:"sc-1xt8rxm-0"})(["background:","33;border-radius:100%;"],(function(e){return e.theme.colors.white})),yn=function(e){var n,t,r,a=e.farm,s=(0,ie.Z)(e,hn),o=(0,Ge.Z)().theme,l=(0,k.$G)().t;return!(null===(n=(0,x.Dx)(null!==(r=a.migrateFrom)&&void 0!==r?r:a.pid))||void 0===n||null===(t=n.stakedBalance)||void 0===t||!t.toNumber())&&(0,Z.jsx)(h.xuv,(0,i.Z)((0,i.Z)({background:"linear-gradient(128.65deg, #FF7426 -2.22%, #B100CE 91.69%)",borderRadius:"6px"},s),{},{children:(0,Z.jsxs)(h.xuv,{px:"24px",py:"28px",children:[(0,Z.jsxs)(h.kCb,{flexGap:"16px",children:[(0,Z.jsx)(gn,{alignItems:"center",flexShrink:"none",p:"16px",alignSelf:"start",children:(0,Z.jsx)(h.Eep,{src:"/images/farming/concentrated-liquidity.png",height:35,width:35})}),(0,Z.jsxs)(h.xuv,{children:[(0,Z.jsx)(h.xvT,{fontSize:"16px",bold:!0,children:l("Migrate your liquidity from v1 pool to v2 pool")}),(0,Z.jsx)(h.xvT,{fontSize:"14px",color:"".concat(o.colors.white,"80"),children:l("You have liquidity in the %symbol% v1 liquidity pool. To keep getting farming rewards and earn extra fees on all trades migrate your liquidity to v2 pool.",{symbol:a.symbol})})]})]}),(0,Z.jsx)(fn,{farm:a,mt:"16px"})]})}))},bn=["farmSymbol"],vn=(0,f.ZP)(h.kCb).withConfig({displayName:"ConcentratedLiquidityPromo__StyledImageWrapper",componentId:"sc-pytocq-0"})(["background:","33;border-radius:100%;"],(function(e){return e.theme.colors.white})),jn=function(e){var n=e.farmSymbol,t=(0,ie.Z)(e,bn),r=(0,Ge.Z)().theme,a=(0,k.$G)().t;return(0,Z.jsx)(h.xuv,(0,i.Z)((0,i.Z)({background:"linear-gradient(119.51deg, #3E5DFF 3.37%, #6404C5 115.71%)",borderRadius:"6px"},t),{},{children:(0,Z.jsxs)(h.kCb,{px:"24px",py:"28px",flexGap:"16px",children:[(0,Z.jsx)(vn,{alignItems:"center",flexShrink:"none",p:"16px",alignSelf:"start",children:(0,Z.jsx)(h.Eep,{src:"/images/farming/concentrated-liquidity.png",height:35,width:35})}),(0,Z.jsxs)(h.xuv,{children:[(0,Z.jsx)(h.xvT,{fontSize:"16px",bold:!0,children:a("%symbol% v2 pool with the concentrated liquidity",{symbol:n})}),(0,Z.jsx)(h.xvT,{fontSize:"14px",color:"".concat(r.colors.white,"80"),children:a("Resulted (effective) liquidity for trading in this pool is several times higher than it is shown in numbers. As a result it generates more trading volume and more trading fee rewards for liquidity providers.")})]})]})}))},kn=(0,f.F4)(["from{max-height:0;}to{max-height:1500px;}"]),wn=(0,f.F4)(["from{max-height:843px;}to{max-height:0;}"]),Sn=f.ZP.div.withConfig({displayName:"Row__FarmContainer",componentId:"sc-4dzdbr-0"})(["background:",";border-radius:8px;"],(function(e){return e.theme.card.background})),Tn=f.ZP.div.withConfig({displayName:"Row__FarmHeader",componentId:"sc-4dzdbr-1"})(["cursor:pointer;display:grid;grid-template-areas:'farm badge' 'earned earned' 'apr apr' 'apy apy' 'liquidity liquidity' 'details details';grid-template-columns:1fr auto;column-gap:24px;row-gap:16px;padding:16px 16px 0 16px;min-height:70px;.details{justify-self:center;}","{grid-template-areas:'badge farm earned apr apy liquidity details';grid-template-columns:95px minmax(185px,1fr) minmax(90px,1fr) minmax(120px,1fr) minmax(60px,1fr) minmax(90px,1fr) minmax(78px,auto);.details{justify-self:end;}}"],(function(e){return e.theme.mediaQueries.lg})),Zn=f.ZP.div.withConfig({displayName:"Row__FarmHeaderCell",componentId:"sc-4dzdbr-2"})(["display:flex;align-items:center;flex-direction:row;justify-content:space-between;","{align-items:start;justify-content:center;flex-direction:column;}"],(function(e){return e.theme.mediaQueries.lg})),Cn=f.ZP.div.withConfig({displayName:"Row__FarmDetails",componentId:"sc-4dzdbr-3"})(["animation:",";overflow:hidden;padding:0 16px 16px 16px;"],(function(e){return e.expanded?(0,f.iv)([""," 300ms linear forwards"],kn):(0,f.iv)([""," 300ms linear forwards"],wn)})),Nn=function(e){var n,t,r,s,o=e.apr,l=e.apy,u=e.badges,p=e.farm,f=e.earned,h=e.details,g=e.liquidity,y=e.userDataReady,k=!(null===(n=(0,x.Dx)(h.pid))||void 0===n||null===(t=n.stakedBalance)||void 0===t||!t.toNumber()),w=!(null===(r=(0,x.Dx)(h.migrateFrom))||void 0===r||null===(s=r.stakedBalance)||void 0===s||!s.toNumber()),S=(0,a.useState)(!1),T=(0,m.Z)(S,2),N=T[0],I=T[1],A=v(N,300),q=(0,c.Kn)(h.contractAddresses),R=(0,d.HU)(q);return(0,a.useEffect)((function(){I(k||w)}),[k,w]),(0,Z.jsxs)(Sn,{children:[(0,Z.jsxs)(Tn,{onClick:function(){I(!N)},children:[(0,Z.jsx)(Zn,{style:{gridArea:"badge",gap:"4px"},children:u.map((function(e){return(0,Z.jsx)(ze,{type:e},e)}))}),(0,Z.jsx)(Zn,{style:{gridArea:"farm"},children:(0,Z.jsx)(D,(0,i.Z)({},p))}),(0,Z.jsx)(Zn,{style:{gridArea:"earned"},children:(0,Z.jsx)(P,(0,i.Z)((0,i.Z)({},f),{},{userDataReady:y,earningToken:h.earningToken}))}),(0,Z.jsx)(Zn,{style:{gridArea:"apr"},children:(0,Z.jsx)(j.Z,(0,i.Z)((0,i.Z)({},o),{},{earningToken:h.earningToken}))}),(0,Z.jsx)(Zn,{style:{gridArea:"apy"},children:(0,Z.jsx)(C,(0,i.Z)({},l))}),(0,Z.jsx)(Zn,{style:{gridArea:"liquidity"},children:(0,Z.jsx)(B,(0,i.Z)({},g))}),(0,Z.jsx)(Zn,{className:"details",style:{gridArea:"details"},children:(0,Z.jsx)(_,{actionPanelToggled:N})})]}),(0,Z.jsx)(Cn,{expanded:N,children:A&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(Re,(0,i.Z)((0,i.Z)({},e),{},{expanded:N})),h.version===b.Gi.V2&&!h.finished&&(0,Z.jsx)(jn,{farmSymbol:h.symbol,mt:"16px"}),(h.migrateFrom||h.migrateTo)&&(0,Z.jsx)(yn,{farm:h,mt:"16px"}),R&&!h.finished&&(0,Z.jsx)($e,{farmAddress:q,apr:o.holderBonusApr,mt:16})]})})]})},In=f.ZP.div.withConfig({displayName:"FarmTable__Container",componentId:"sc-1s6dmja-0"})(["display:grid;grid-row-gap:16px;width:100%;scroll-margin-top:64px;"]),An=function(e){var n=e.data,t=e.userDataReady,r=(0,g.Z)(),s=r.observerRef,o=r.isIntersecting,l=(0,h.x6s)({columns:y,data:n}).rows,d=(0,a.useState)(12),c=(0,m.Z)(d,2),u=c[0],p=c[1];return(0,a.useEffect)((function(){o&&p((function(e){return e<=l.length?e+12:e}))}),[o,l.length]),(0,Z.jsxs)("div",{children:[(0,Z.jsx)(In,{id:"farms-table",children:l.slice(0,u).map((function(e){return(0,a.createElement)(Nn,(0,i.Z)((0,i.Z)({},e.original),{},{userDataReady:t,key:"table-row-".concat(e.id)}))}))}),(0,Z.jsx)("div",{ref:s})]})},Dn=function(){var e=(0,a.useState)([]),n=(0,m.Z)(e,2),t=n[0],r=n[1],i=function(e){r(JSON.parse(e.data))};return(0,a.useEffect)((function(){var e=new EventSource("/api/farms/sse");return e.addEventListener("farmInfo",i),function(){e.removeEventListener("farmInfo",i),e.close()}}),[r]),{getFarmInfoByAddress:(0,a.useCallback)((function(e){var n;return null!==(n=t.find((function(n){var t=n.farmAddress;return(0,c.R6)(t,e)})))&&void 0!==n?n:{farmAddress:e,dailyReceivedFees:0}}),[t])}},Pn=t(42982),qn=t(56321),_n=t(99004),Bn=t(16031),Rn=t(51780),Fn=V.ke.nmx,En=function(e){return!(!e.token.equals(Fn)&&!e.quoteToken.equals(Fn))},Ln=function(e){return e.cumulativeApr>60},zn=function(e){var n,t;return null!==(n=null===(t=e.liquidity)||void 0===t?void 0:t.div(e.cumulativeApr).div(e.tokensPerSec).toNumber())&&void 0!==n?n:0},Gn=function(e){return e.reduce((function(e,n){switch(!0){case En(n):e.NmxFarms.push(n);break;case Ln(n):e.HotFarms.push(n);break;case function(e){return e.version===b.Gi.V2}(n):e.StableSwapFarms.push(n);break;case function(e){var n;return(null===(n=e.liquidity)||void 0===n?void 0:n.toNumber())>=1e6}(n):e.LiquidFarms.push(n);break;default:e.OtherFarms.push(n)}return e}),{NmxFarms:[],HotFarms:[],StableSwapFarms:[],LiquidFarms:[],OtherFarms:[]})},Vn=function(e,n){switch(n){case"hot":return function(e){var n=(0,Bn.orderBy)(e.NmxFarms,(function(e){var n;return null===(n=e.liquidity)||void 0===n?void 0:n.toNumber()}),"desc"),t=(0,Bn.orderBy)(e.HotFarms,(function(e){return zn(e)}),"desc"),r=(0,Bn.orderBy)(e.StableSwapFarms,(function(e){return zn(e)}),"desc"),i=(0,Bn.orderBy)(e.LiquidFarms,(function(e){return zn(e)}),"desc"),a=(0,Bn.orderBy)(e.OtherFarms,(function(e){return zn(e)}),"desc");return[].concat((0,Pn.Z)(n),(0,Pn.Z)(t),(0,Pn.Z)(r),(0,Pn.Z)(i),(0,Pn.Z)(a))}(Gn(e));case"apr":return(0,Bn.orderBy)(e,(function(e){var n;return null!==(n=e.cumulativeApr)&&void 0!==n?n:0}),"desc");case"earned":return(0,Bn.orderBy)(e,(function(e){var n,t,r;return null!==(n=null===(t=e.userData)||void 0===t||null===(r=t.earnings)||void 0===r?void 0:r.toNumber())&&void 0!==n?n:0}),"desc");case"liquidity":return(0,Bn.orderBy)(e,(function(e){var n,t;return null!==(n=null===(t=e.liquidity)||void 0===t?void 0:t.toNumber())&&void 0!==n?n:0}),"desc");default:return e}},Mn=function(e){var n=function(e){return(0,qn.Z)((0,_n.default)(new Date(e.created||0),14),Date.now())>0}(e),t=En(e)||Ln(e),i=e.finished&&!!e.migrateTo&&e.userData.stakedBalance.gt(0),a=-1===e.pid,s=[];switch(!0){case i:s.push(r.MIGRATION);break;case e.finished:s.push(r.INACTIVE);break;case t:s.push(r.HOT);break;case n:s.push(r.NEW);break;default:s.push(r.ACTIVE)}return a&&s.push(r.HIGH_RISK),En(e)&&s.push(r.LEVEL_UP),s},On=function(e){return{badges:Mn(e),apr:{pid:e.pid,tokenAddress:e.token.address,quoteTokenAddress:e.quoteToken.address,earningTokenPriceBusd:e.earningTokenPriceBusd,stakingServiceAddress:e.contractAddresses,value:e.cumulativeApr,baseApr:e.baseApr,holderBonusApr:e.holderBonusApr,lpRewardsApr:e.lpRewardsApr,lpSymbol:e.lpSymbol},apy:{value:e.apy},farm:{pid:e.pid,label:e.symbol,token:e.token,quoteToken:e.quoteToken,finished:e.finished},earned:{earnings:e.userData.earnings,earningToken:e.earningToken},liquidity:{liquidity:e.liquidity},details:e}},Hn=t(82253),Wn=function(){var e=(0,a.useContext)(Hn.G),n=e.farms,t=e.sortOption,r=e.userDataLoaded,s=(0,l.Ge)().account,m=(0,x.wE)(),f=Dn().getFarmInfoByAddress,h=(0,d.C0)().getHolderBonus,g={getTotalStakedInBusd:function(e,n){return e.gt(0)?(0,N.U4)(e).times(n):new(o())(Rn.lk)},getCurrentRewardInNmx:function(e,n){return Number(new(o())(Rn.lk).div(n).div(e.effectivePoolSizeInLpTokens).times(e.dailyPoolSizeNmx))}},y=g.getTotalStakedInBusd,b=g.getCurrentRewardInNmx,v=!s||!!s&&r,j=(0,a.useCallback)((function(e){return e.map((function(e){var n;if(!e.lpTotalInQuoteToken||!e.quoteTokenPriceBusd)return e;var t=(0,c.Kn)(e.lpAddresses),r=(0,c.Kn)(e.contractAddresses),a=f(t),s=new(o())(e.lpTotalInQuoteToken).times(e.quoteTokenPriceBusd),l=y(e.userData.stakedBalance,e.lpTokenPriceBusd),d=null!==(n=m[e.earningToken.address.toLocaleLowerCase()])&&void 0!==n?n:"0",x=e.finished?0:(0,u.yW)(new(o())(e.tokensPerSec),new(o())(d),s),g=h(r).currentRewardInNmx;!e.userData.stakedBalance.gt(0)&&e.holderBonusPool&&(g=b(e.holderBonusPool,e.lpTokenPriceBusd));var v=(0,u.$O)(new(o())(g),new(o())(d),l),j=(0,u.S7)(new(o())(a.dailyReceivedFees),s),k=x+v+j,w=e.finished?0:(0,p.g5)(k);return(0,i.Z)((0,i.Z)({},e),{},{earningTokenPriceBusd:d,baseApr:x,holderBonusApr:v,lpRewardsApr:j,cumulativeApr:k,apy:w,liquidity:s})}))}),[n]),k=(0,a.useMemo)((function(){return Vn(j(n),t).map(On)}),[n,t]);return(0,Z.jsx)(An,{data:k,userDataReady:v})}},82253:function(e,n,t){t.d(n,{G:function(){return u},Q:function(){return p}});var r,i=t(70885),a=t(47313),s=t(18706),o=t(82114),l=t(74531),d=t(52906),c=t(46417);!function(e){e[e.LIVE=0]="LIVE",e[e.FINISHED=1]="FINISHED"}(r||(r={}));var u=(0,a.createContext)({farms:[],userDataLoaded:!1,showStakedOnly:!1,sortOption:"hot",visibilityFilter:0,setShowStakedOnly:null,setSearchQuery:null,setSortOption:null,setVisibilityFilter:null}),p=function(e){var n=e.farms,t=e.children,p=(0,s.TH)().pathname,x=(0,a.useState)(""),m=(0,i.Z)(x,2),f=m[0],h=m[1],g=(0,a.useState)("hot"),y=(0,i.Z)(g,2),b=y[0],v=y[1],j=(0,a.useState)(!1),k=(0,i.Z)(j,2),w=k[0],S=k[1],T=(0,a.useState)(r.LIVE),Z=(0,i.Z)(T,2),C=Z[0],N=Z[1],I=p.includes("community"),A=n.filter(Boolean),D=(0,l.E2)(A.map((function(e){return e.pid}))),P=D.data,q=D.userDataLoaded;(0,l.Cs)(A);var _=(0,a.useMemo)((function(){var e=[];if(I)return P;if(e=C===r.FINISHED?P.filter((function(e){return e.finished})):P.filter((function(e){return e.pid>0&&!e.finished})),w&&(e=e.filter((function(e){return e.userData&&e.userData.stakedBalance.gt(0)}))),f){var n=(0,d.b)(f.toLowerCase());e=P.filter((function(e){return e.lpSymbol.toLowerCase().includes(n)}))}return e}),[P,I,w,f,C]);return(0,c.jsx)(u.Provider,{value:{farms:_,userDataLoaded:q,showStakedOnly:w,sortOption:b,visibilityFilter:C,setShowStakedOnly:S,setSearchQuery:h,setSortOption:v,setVisibilityFilter:N},children:P.length?t:(0,c.jsx)("div",{className:"grid place-items-center min-h-[45vh]",children:(0,c.jsx)(o.AK,{className:"text-32"})})})}},44990:function(e,n,t){t.d(n,{J:function(){return r}});var r=t(70244).ZP.div.withConfig({displayName:"styles__FarmWidgetsWrapper",componentId:"sc-1ul98ln-0"})(["display:grid;grid-gap:28px;grid-template-columns:1fr;@media screen and (min-width:1400px){grid-template-columns:305px auto;position:relative;}"])},56321:function(e,n,t){t.d(n,{Z:function(){return l}});var r=t(93601),i=t(34800);function a(e,n){return(0,i.Z)(2,arguments),(0,r.default)(e).getTime()-(0,r.default)(n).getTime()}var s={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}};function o(e){return e?s[e]:s.trunc}function l(e,n,t){(0,i.Z)(2,arguments);var r=a(e,n)/1e3;return o(null===t||void 0===t?void 0:t.roundingMethod)(r)}}}]);